package detection;


component NormalizedLaplacian<N1 n = 1>{
    ports in diag Q(-oo:oo)^{n,n} degree,
          in Q(-oo:oo)^{n,n} W,
          out Q(-oo:oo)^{n,n} nLaplacian;

    implementation Math{
        /*for i=1:size(degree,1)
            for j=1:size(degree,2)
                nLaplacian(i,j) = W(i,j) / (sqrt(degree(i,i)) * sqrt(degree(j,j)));
            end
        end*/
        nLaplacian = sqrtm(inv(degree)) * W * sqrtm(inv(degree));
        nLaplacian = sqrtm(inv(degree)*2) * W * sqrtm(inv(degree)*2 );

    }
}